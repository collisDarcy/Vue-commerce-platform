{"ast":null,"code":"// 创建路由模块\n// 导入Vue\nimport Vue from 'vue'; // 导入Vue-route\n\nimport VueRouter from 'vue-router'; //  创建Vue插件\n\nVue.use(VueRouter); // 导入路由\n\nimport Login from '@/components/LoginV.vue';\nimport Index from '@/components/indexV.vue'; // import Home from \"@/components/HeadV.vue\"\n\nvar router = new VueRouter({\n  routes: [{\n    path: '/login',\n    component: Login\n  }, {\n    path: '/',\n    redirect: '/login'\n  }, {\n    path: '/index',\n    component: Index\n  }]\n}); // 为路由对象添加beforeEach导航守卫\n\nrouter.beforeEach(function (to, from, next) {\n  //to:要访问的路径\n  if (to.path === '/login') {\n    return next();\n  } // 从sessionStorage中获得保存的token值\n\n\n  var tokenStr = window.sessionStorage.getItem('token');\n\n  if (!tokenStr) {\n    //没有token,则强制跳转到登录页面\n    return next('/login');\n  }\n\n  next(); //next:是否放行next();next('/路径'):强制跳转页面\n}); // 向外共享router规则----export\n\nexport default router;","map":{"version":3,"sources":["D:/vscode练习包/Vue电商项目实战/demo-vue2.0/src/router/router.js"],"names":["Vue","VueRouter","use","Login","Index","router","routes","path","component","redirect","beforeEach","to","from","next","tokenStr","window","sessionStorage","getItem"],"mappings":"AAAA;AACA;AACA,OAAOA,GAAP,MAAgB,KAAhB,C,CACA;;AACA,OAAOC,SAAP,MAAsB,YAAtB,C,CACA;;AACAD,GAAG,CAACE,GAAJ,CAAQD,SAAR,E,CACA;;AACA,OAAOE,KAAP,MAAkB,yBAAlB;AACA,OAAOC,KAAP,MAAkB,yBAAlB,C,CACA;;AAEA,IAAMC,MAAM,GAAG,IAAIJ,SAAJ,CAAc;AAC3BK,EAAAA,MAAM,EAAE,CACN;AAAEC,IAAAA,IAAI,EAAE,QAAR;AAAkBC,IAAAA,SAAS,EAAEL;AAA7B,GADM,EAEN;AAAEI,IAAAA,IAAI,EAAE,GAAR;AAAaE,IAAAA,QAAQ,EAAE;AAAvB,GAFM,EAGN;AAAEF,IAAAA,IAAI,EAAE,QAAR;AAAkBC,IAAAA,SAAS,EAAEJ;AAA7B,GAHM;AADmB,CAAd,CAAf,C,CAOA;;AACAC,MAAM,CAACK,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC;AACA,MAAIF,EAAE,CAACJ,IAAH,KAAY,QAAhB,EAA0B;AACxB,WAAOM,IAAI,EAAX;AACD,GAJmC,CAKpC;;;AACA,MAAMC,QAAQ,GAAGC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,OAA9B,CAAjB;;AACA,MAAI,CAACH,QAAL,EAAe;AACb;AACA,WAAOD,IAAI,CAAC,QAAD,CAAX;AACD;;AACDA,EAAAA,IAAI,GAXgC,CAYpC;AACD,CAbD,E,CAeA;;AACA,eAAeR,MAAf","sourcesContent":["// 创建路由模块\n// 导入Vue\nimport Vue from 'vue'\n// 导入Vue-route\nimport VueRouter from 'vue-router'\n//  创建Vue插件\nVue.use(VueRouter)\n// 导入路由\nimport Login from '@/components/LoginV.vue'\nimport Index from '@/components/indexV.vue'\n// import Home from \"@/components/HeadV.vue\"\n\nconst router = new VueRouter({\n  routes: [\n    { path: '/login', component: Login },\n    { path: '/', redirect: '/login' },\n    { path: '/index', component: Index },\n  ],\n})\n// 为路由对象添加beforeEach导航守卫\nrouter.beforeEach((to, from, next) => {\n  //to:要访问的路径\n  if (to.path === '/login') {\n    return next()\n  }\n  // 从sessionStorage中获得保存的token值\n  const tokenStr = window.sessionStorage.getItem('token')\n  if (!tokenStr) {\n    //没有token,则强制跳转到登录页面\n    return next('/login')\n  }\n  next()\n  //next:是否放行next();next('/路径'):强制跳转页面\n})\n\n// 向外共享router规则----export\nexport default router\n"]},"metadata":{},"sourceType":"module"}
{"version":3,"file":"js/users_Rights_Roles.ec5e5cbc.js","mappings":"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","sources":["webpack://demo-vue2.0/./src/components/power/RightV.vue?5f8d","webpack://demo-vue2.0/src/components/power/RightV.vue","webpack://demo-vue2.0/./src/components/power/RightV.vue?baeb","webpack://demo-vue2.0/./src/components/power/RightV.vue","webpack://demo-vue2.0/./src/components/power/RolesV.vue?45d8","webpack://demo-vue2.0/src/components/power/RolesV.vue","webpack://demo-vue2.0/./src/components/power/RolesV.vue?23de","webpack://demo-vue2.0/./src/components/power/RolesV.vue","webpack://demo-vue2.0/./src/components/user/userV.vue?017b","webpack://demo-vue2.0/src/components/user/userV.vue","webpack://demo-vue2.0/./src/components/user/userV.vue?f385","webpack://demo-vue2.0/./src/components/user/userV.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/FirstPage' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_c('a',{attrs:{\"href\":\"/\"}},[_vm._v(\"用户登录\")])]),_c('el-breadcrumb-item',[_vm._v(\"权限管理\")]),_c('el-breadcrumb-item',[_vm._v(\"权限列表\")])],1),_c('el-card',[_c('el-table',{attrs:{\"data\":_vm.rightsList,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"#\"}}),_c('el-table-column',{attrs:{\"label\":\"权限名称\",\"prop\":\"authName\"}}),_c('el-table-column',{attrs:{\"label\":\"路径\",\"prop\":\"path\"}}),_c('el-table-column',{attrs:{\"label\":\"权限等级\",\"prop\":\"level\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.level === '0')?_c('el-tag',[_vm._v(\"一级\")]):(scope.row.level === '1')?_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(\"二级\")]):_c('el-tag',{attrs:{\"type\":\"danger\"}},[_vm._v(\"三级\")])]}}])})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!-- 面包屑导航区域 -->\r\n    <el-breadcrumb separator=\"/\">\r\n      <el-breadcrumb-item :to=\"{ path: '/FirstPage' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item><a href=\"/\">用户登录</a></el-breadcrumb-item>\r\n      <el-breadcrumb-item>权限管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>权限列表</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <!-- 卡片视图区域 -->\r\n    <el-card>\r\n      <el-table :data=\"rightsList\" border stripe>\r\n        <el-table-column type=\"index\" label=\"#\"></el-table-column>\r\n        <el-table-column label=\"权限名称\" prop=\"authName\"></el-table-column>\r\n        <el-table-column label=\"路径\" prop=\"path\"></el-table-column>\r\n        <el-table-column label=\"权限等级\" prop=\"level\">\r\n          <!-- 这里使用插槽--放内容 -->\r\n          <template slot-scope=\"scope\">\r\n            <el-tag v-if=\"scope.row.level === '0'\">一级</el-tag>\r\n            <el-tag type=\"success\" v-else-if=\"scope.row.level === '1'\">二级</el-tag>\r\n            <el-tag type=\"danger\" v-else>三级</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import axios from 'axios'\r\nexport default {\r\n  data() {\r\n    // 获取存储到本地的token\r\n    const token = window.sessionStorage.getItem('token')\r\n    return {\r\n      // 权限列表\r\n      rightsList: [],\r\n      token: token,\r\n    }\r\n  },\r\n  created() {\r\n    // 获取所有的权限\r\n    this.getRightsList()\r\n  },\r\n  methods: {\r\n    async getRightsList() {\r\n      //获取所有权限的数据\r\n      const { data: res } = await this.$http.get('rights/list', { headers: { Authorization: this.token } })\r\n      if (res.meta.status !== 200) {\r\n        console.log(res)\r\n        return this.$message.error({\r\n          message: '获取权限列表失败！',\r\n          center: true,\r\n        })\r\n      }\r\n      this.$message.success({\r\n        message: '获取权限列表成功！',\r\n        center: true,\r\n      })\r\n      this.rightsList = res.data\r\n      // 打印所有的权限列表\r\n      // console.log(this.rightsList)\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.el-breadcrumb {\r\n  margin-bottom: 22px;\r\n  font-size: 17px;\r\n  font-family: cursive;\r\n}\r\n.el-card {\r\n  box-shadow: 0 2px 2px rgba(0, 0, 0, 0.25);\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RightV.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RightV.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RightV.vue?vue&type=template&id=9d3d8384&scoped=true&\"\nimport script from \"./RightV.vue?vue&type=script&lang=js&\"\nexport * from \"./RightV.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RightV.vue?vue&type=style&index=0&id=9d3d8384&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9d3d8384\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/FirstPage' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_c('a',{attrs:{\"href\":\"/\"}},[_vm._v(\"用户登录\")])]),_c('el-breadcrumb-item',[_vm._v(\"权限管理\")]),_c('el-breadcrumb-item',[_vm._v(\"角色列表\")])],1),_c('el-card',[_c('el-row',[_c('el-col',[_c('el-button',{attrs:{\"type\":\"primary\"}},[_vm._v(\"添加角色\")])],1),_c('el-table',{attrs:{\"data\":_vm.roleList,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"expand\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((scope.row.children),function(item1,i1){return _c('el-row',{key:item1.id,class:['bdBottom', i1 === 0 ? 'bdTop' : '', 'vcenter']},[_c('el-col',{attrs:{\"span\":5}},[_c('el-tag',{attrs:{\"closable\":\"\"},on:{\"close\":function($event){return _vm.removeRightById(scope.row, item1.id)}}},[_vm._v(\" \"+_vm._s(item1.authName)+\" \")]),_c('i',{staticClass:\"el-icon-caret-right\"})],1),_c('el-col',{attrs:{\"span\":19}},_vm._l((item1.children),function(item2,i2){return _c('el-row',{key:item2.id,class:[i2 === 0 ? '' : 'bdTop', 'vcenter']},[_c('el-col',{attrs:{\"span\":6}},[_c('el-tag',{attrs:{\"type\":\"success\",\"closable\":\"\"},on:{\"close\":function($event){return _vm.removeRightById(scope.row, item2.id)}}},[_vm._v(_vm._s(item2.authName))]),_c('i',{staticClass:\"el-icon-caret-right\"})],1),_c('el-col',{attrs:{\"span\":18}},_vm._l((item2.children),function(item3){return _c('el-tag',{key:item3.id,attrs:{\"type\":\"warning\",\"closable\":\"\"},on:{\"close\":function($event){return _vm.removeRightById(scope.row, item3.id)}}},[_vm._v(\" \"+_vm._s(item3.authName)+\" \")])}),1)],1)}),1)],1)})}}])}),_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"#\"}}),_c('el-table-column',{attrs:{\"label\":\"角色名称\",\"prop\":\"roleName\"}}),_c('el-table-column',{attrs:{\"label\":\"角色描述\",\"prop\":\"roleDesc\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"285px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"}},[_vm._v(\"修改\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"}},[_vm._v(\"删除\")]),_c('el-button',{attrs:{\"type\":\"warning\",\"icon\":\"el-icon-setting\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.showSetRightDialog(scope.row)}}},[_vm._v(\"分配权限\")])]}}])})],1)],1)],1),_c('el-dialog',{attrs:{\"title\":\"分配权限\",\"visible\":_vm.setRightDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.setRightDialogVisible=$event},\"close\":_vm.setRightDialogClosed}},[_c('el-tree',{ref:\"treeRef\",attrs:{\"data\":_vm.rightsList,\"props\":_vm.treeProps,\"show-checkbox\":\"\",\"node-key\":\"id\",\"default-expand-all\":\"\",\"default-checked-keys\":_vm.deKeys}}),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.setRightDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.allotRights}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!-- 面包屑导航区域 -->\r\n    <el-breadcrumb separator=\"/\">\r\n      <el-breadcrumb-item :to=\"{ path: '/FirstPage' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item><a href=\"/\">用户登录</a></el-breadcrumb-item>\r\n      <el-breadcrumb-item>权限管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>角色列表</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <!-- 卡片视图区域 -->\r\n    <el-card>\r\n      <!-- 添加角色按钮区域 -->\r\n      <el-row>\r\n        <el-col>\r\n          <el-button type=\"primary\">添加角色</el-button>\r\n        </el-col>\r\n        <!-- 角色权限列表区域 -->\r\n        <el-table :data=\"roleList\" border stripe>\r\n          <!-- 展开列 -->\r\n          <el-table-column type=\"expand\">\r\n            <!-- 这是放一个插槽用于存放数据 -->\r\n            <template slot-scope=\"scope\">\r\n              <el-row :class=\"['bdBottom', i1 === 0 ? 'bdTop' : '', 'vcenter']\" v-for=\"(item1, i1) in scope.row.children\" :key=\"item1.id\">\r\n                <!-- 渲染一级权限 -->\r\n                <el-col :span=\"5\">\r\n                  <el-tag closable @close=\"removeRightById(scope.row, item1.id)\">\r\n                    {{ item1.authName }}\r\n                  </el-tag>\r\n                  <i class=\"el-icon-caret-right\"></i>\r\n                </el-col>\r\n                <!-- 渲染二，三级权限 -->\r\n                <el-col :span=\"19\">\r\n                  <!-- 通过for循环嵌套渲染二级权限  -->\r\n                  <el-row :class=\"[i2 === 0 ? '' : 'bdTop', 'vcenter']\" v-for=\"(item2, i2) in item1.children\" :key=\"item2.id\">\r\n                    <el-col :span=\"6\">\r\n                      <el-tag type=\"success\" closable @close=\"removeRightById(scope.row, item2.id)\">{{ item2.authName }}</el-tag>\r\n                      <i class=\"el-icon-caret-right\"></i>\r\n                    </el-col>\r\n                    <!-- 三级权限 -->\r\n                    <el-col :span=\"18\">\r\n                      <el-tag type=\"warning\" v-for=\"item3 in item2.children\" :key=\"item3.id\" closable @close=\"removeRightById(scope.row, item3.id)\">\r\n                        {{ item3.authName }}\r\n                      </el-tag>\r\n                    </el-col>\r\n                  </el-row>\r\n                </el-col>\r\n              </el-row>\r\n            </template>\r\n          </el-table-column>\r\n          <!-- 索引列 -->\r\n          <el-table-column type=\"index\" label=\"#\"></el-table-column>\r\n          <el-table-column label=\"角色名称\" prop=\"roleName\"></el-table-column>\r\n          <el-table-column label=\"角色描述\" prop=\"roleDesc\"></el-table-column>\r\n          <el-table-column label=\"操作\" width=\"285px\">\r\n            <!-- 以插槽的形式放在这里 -->\r\n            <template slot-scope=\"scope\">\r\n              <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\">修改</el-button>\r\n              <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\">删除</el-button>\r\n              <el-button type=\"warning\" icon=\"el-icon-setting\" size=\"mini\" @click=\"showSetRightDialog(scope.row)\">分配权限</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </el-row>\r\n    </el-card>\r\n    <!-- 分配权限的对话框 -->\r\n    <el-dialog title=\"分配权限\" :visible.sync=\"setRightDialogVisible\" width=\"50%\" @close=\"setRightDialogClosed\">\r\n      <!-- <span>这是一段信息</span> -->\r\n      <!-- 内容区域 -->\r\n      <el-tree :data=\"rightsList\" :props=\"treeProps\" show-checkbox node-key=\"id\" default-expand-all :default-checked-keys=\"deKeys\" ref=\"treeRef\"></el-tree>\r\n\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"setRightDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"allotRights\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import axios from 'axios'\r\nexport default {\r\n  data() {\r\n    const token = window.sessionStorage.getItem('token')\r\n    return {\r\n      token: token,\r\n      // 所有角色列表数据\r\n      roleList: [],\r\n      // 获取到的用户权限数据\r\n      rightsList: [],\r\n      // 控制分配权限对话框的显示与隐藏\r\n      setRightDialogVisible: false,\r\n      // 树形控件的属性绑定对象\r\n      treeProps: {\r\n        label: 'authName',\r\n        children: 'children',\r\n      },\r\n      // 默认选中的节点ID值数组\r\n      deKeys: [],\r\n      // 当前即将分配权限的角色Id\r\n      roleId: '',\r\n    }\r\n  },\r\n  created() {\r\n    this.getRolesList()\r\n  },\r\n  methods: {\r\n    // 获取所有角色列表\r\n    async getRolesList() {\r\n      const { data: res } = await this.$http.get('roles', { headers: { Authorization: this.token } })\r\n      if (res.meta.status !== 200) {\r\n        return this.$message.error({\r\n          message: '获取角色列表失败！',\r\n          center: true,\r\n        })\r\n      }\r\n      // alert('获取列表成功！')\r\n      this.roleList = res.data\r\n      // console.log(this.roleList)\r\n      // this.getRolesList = res.data\r\n      // console.log(this.getRolesList)\r\n    },\r\n    // 根据id删除对应的权限\r\n    async removeRightById(role, rightId) {\r\n      //弹窗提示是否要删除\r\n      const confimResult = await this.$confirm('此操作将永久删除该权限，是否继续', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning',\r\n      }).catch((err) => err)\r\n      if (confimResult !== 'confirm') {\r\n        return this.$message.info({\r\n          message: '取消了删除!',\r\n          center: true,\r\n        })\r\n      }\r\n      // alert('确认了删除！')\r\n      // const Str = `roles/${role.id}/rights/${rightId}`\r\n      // const url = 'http://127.0.0.1:8888/api/private/v1' + `roles/${role.id}/rights/${rightId}`\r\n      // const url1 = `http://127.0.0.1:8888/api/private/v1/roles/${role.id}/rights/${rightId}`\r\n      // const { data: res } = await axios.delete(url1, { headers: { Authorization: this.token } })\r\n      const { data: res } = await this.$http.delete(`roles/${role.id}/rights/${rightId}`)\r\n      // console.log(res)\r\n      if (res.meta.status !== 200) {\r\n        return this.$message.error({\r\n          message: '删除权限失败！',\r\n          center: true,\r\n          duration: 3000,\r\n        })\r\n      }\r\n      this.$message.success({\r\n        message: '删除权限成功！',\r\n        center: true,\r\n        duration: 3000,\r\n      })\r\n      // 重新刷新权限列表\r\n      // this.getRolesList()\r\n      role.children = res.data\r\n    },\r\n    // 分配权限的对话框\r\n    async showSetRightDialog(role) {\r\n      this.roleId = role.id\r\n      // 获取所有权限的数据----呈树状图显示\r\n      const { data: res } = await this.$http.get('rights/tree', { headers: { Authorization: this.token } })\r\n      // console.log(res)\r\n      if (res.meta.status !== 200) {\r\n        return this.$message.error({\r\n          message: '获取用户权限列表失败！',\r\n          center: true,\r\n        })\r\n      }\r\n      this.$message.success({\r\n        message: '获取用户权限列表成功！',\r\n        center: true,\r\n      })\r\n      // 用户权限列表获取成功之后，将获取到的数据存储到data中\r\n      this.rightsList = res.data\r\n      // 递归获取三级节点的Id\r\n      this.getLeafKeys(role, this.deKeys)\r\n      console.log(this.rightsList)\r\n      this.setRightDialogVisible = true\r\n    },\r\n    // 通过递归的形式，获取角色下所有的三级权限的\r\n    // id,并保持到deKeys数组中\r\n    getLeafKeys(node, arr) {\r\n      if (!node.children) {\r\n        return arr.push(node.id)\r\n      }\r\n      node.children.forEach((item) => this.getLeafKeys(item, arr))\r\n    },\r\n    // 监听分配权限对话框的关闭事件\r\n    setRightDialogClosed() {\r\n      this.deKeys = []\r\n    },\r\n    // 点击为角色分配权限\r\n    async allotRights() {\r\n      const key = [...this.$refs.treeRef.getCheckedKeys(), ...this.$refs.treeRef.getHalfCheckedKeys()]\r\n      // 获取选中和半选中的Id值\r\n      // console.log(key)\r\n      // 将数组转化为以逗号拼接的字符串\r\n      const IdStr = key.join(',')\r\n      // const url = `http://127.0.0.1:8888/api/private/v1/roles/${this.roleId}/rights`\r\n      // const { data: res } = await axios.post(url, { rids: IdStr }, { headers: { Authorization: this.token } })\r\n      const { data: res } = await this.$http.post(`roles/${this.roleId}/rights`, { rids: IdStr })\r\n      if (res.meta.status !== 200) {\r\n        return this.$message.error({\r\n          message: '分配权限失败！',\r\n          center: true,\r\n        })\r\n      }\r\n      this.$message.success({\r\n        message: '分配权限成功！',\r\n        center: true,\r\n      })\r\n      // 分配权限成功之后，需要重新渲染权限列表并且关闭当前分配权限对话框\r\n      this.getRolesList()\r\n      this.setRightDialogVisible = false\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.el-breadcrumb {\r\n  margin-bottom: 22px;\r\n  font-size: 17px;\r\n  font-family: cursive;\r\n}\r\n.el-card {\r\n  box-shadow: 0 2px 2px rgba(0, 0, 0, 0.25);\r\n}\r\n.el-tag {\r\n  margin: 10px;\r\n}\r\n// 边框样式\r\n.bdTop {\r\n  border-top: 1px solid #eee;\r\n}\r\n.bdBottom {\r\n  border-bottom: 1px solid #eee;\r\n}\r\n// 垂直居中对齐\r\n.vcenter {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RolesV.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RolesV.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RolesV.vue?vue&type=template&id=6817314f&scoped=true&\"\nimport script from \"./RolesV.vue?vue&type=script&lang=js&\"\nexport * from \"./RolesV.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RolesV.vue?vue&type=style&index=0&id=6817314f&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6817314f\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/FirstPage' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_c('a',{attrs:{\"href\":\"/\"}},[_vm._v(\"用户登录\")])]),_c('el-breadcrumb-item',[_vm._v(\"用户管理\")]),_c('el-breadcrumb-item',[_vm._v(\"用户列表\")])],1),_c('el-card',[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":7}},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\",\"clearable\":\"\"},on:{\"clear\":_vm.getUserList},model:{value:(_vm.queryInfo.query),callback:function ($$v) {_vm.$set(_vm.queryInfo, \"query\", $$v)},expression:\"queryInfo.query\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.getUserList},slot:\"append\"})],1)],1),_c('el-col',{attrs:{\"span\":7}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.addDialogVisible = true}}},[_vm._v(\"添加用户\")])],1)],1),_c('el-table',{attrs:{\"data\":_vm.userList,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"#\"}}),_c('el-table-column',{attrs:{\"label\":\"姓名\",\"prop\":\"username\"}}),_c('el-table-column',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}}),_c('el-table-column',{attrs:{\"label\":\"电话\",\"prop\":\"mobile\"}}),_c('el-table-column',{attrs:{\"label\":\"身份\",\"prop\":\"role_name\"}}),_c('el-table-column',{attrs:{\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{attrs:{\"active-color\":\"#13ce66\"},on:{\"change\":function($event){return _vm.userState(scope.row)}},model:{value:(scope.row.mg_state),callback:function ($$v) {_vm.$set(scope.row, \"mg_state\", $$v)},expression:\"scope.row.mg_state\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"修改\",\"placement\":\"top\",\"enterable\":false}},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.showEditDialog(scope.row.id)}}})],1),_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"删除\",\"placement\":\"top\",\"enterable\":false}},[_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.removeUserById(scope.row.id)}}})],1),_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"分配角色\",\"placement\":\"top\",\"enterable\":false}},[_c('el-button',{attrs:{\"type\":\"warning\",\"icon\":\"el-icon-setting\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.setRole(scope.row)}}})],1)]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.queryInfo.pagenum,\"page-sizes\":[1, 5, 10, 15],\"page-size\":_vm.queryInfo.pagesize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_c('el-dialog',{attrs:{\"title\":\"添加用户\",\"visible\":_vm.addDialogVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.addDialogVisible=$event},\"close\":_vm.addDialogClosed}},[_c('el-form',{ref:\"addFormRef\",attrs:{\"model\":_vm.addForm,\"rules\":_vm.addFormRules,\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{model:{value:(_vm.addForm.username),callback:function ($$v) {_vm.$set(_vm.addForm, \"username\", $$v)},expression:\"addForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{model:{value:(_vm.addForm.password),callback:function ($$v) {_vm.$set(_vm.addForm, \"password\", $$v)},expression:\"addForm.password\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"email\",\"label\":\"邮箱\"}},[_c('el-input',{model:{value:(_vm.addForm.email),callback:function ($$v) {_vm.$set(_vm.addForm, \"email\", $$v)},expression:\"addForm.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手机号\",\"prop\":\"mobile\"}},[_c('el-input',{attrs:{\"maxlength\":\"11\"},model:{value:(_vm.addForm.mobile),callback:function ($$v) {_vm.$set(_vm.addForm, \"mobile\", $$v)},expression:\"addForm.mobile\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addUser}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"修改用户\",\"visible\":_vm.editDialogVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.editDialogVisible=$event},\"close\":_vm.editDialogClosed}},[_c('el-form',{ref:\"editFormRef\",attrs:{\"model\":_vm.editForm,\"rules\":_vm.editFormRules,\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.editForm.username),callback:function ($$v) {_vm.$set(_vm.editForm, \"username\", $$v)},expression:\"editForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{model:{value:(_vm.editForm.email),callback:function ($$v) {_vm.$set(_vm.editForm, \"email\", $$v)},expression:\"editForm.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手机号\",\"prop\":\"mobile\"}},[_c('el-input',{model:{value:(_vm.editForm.mobile),callback:function ($$v) {_vm.$set(_vm.editForm, \"mobile\", $$v)},expression:\"editForm.mobile\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.editUserInfo}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"分配角色\",\"visible\":_vm.setRoleDialogVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.setRoleDialogVisible=$event},\"close\":_vm.setRoleDialogClosed}},[_c('el-form',{attrs:{\"label-position\":_vm.labelPostion,\"label-width\":\"50px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名:\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.userinfo.username),callback:function ($$v) {_vm.$set(_vm.userinfo, \"username\", $$v)},expression:\"userinfo.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"角色名:\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.userinfo.role_name),callback:function ($$v) {_vm.$set(_vm.userinfo, \"role_name\", $$v)},expression:\"userinfo.role_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"分配角色:\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.selectedRoleId),callback:function ($$v) {_vm.selectedRoleId=$$v},expression:\"selectedRoleId\"}},_vm._l((_vm.rolesList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.roleName,\"value\":item.id}})}),1)],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.setRoleDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveRoleInfo}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!-- <p>这是user页面</p> -->\r\n    <!-- 面包屑导航 -->\r\n    <el-breadcrumb separator=\"/\">\r\n      <el-breadcrumb-item :to=\"{ path: '/FirstPage' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item><a href=\"/\">用户登录</a></el-breadcrumb-item>\r\n      <el-breadcrumb-item>用户管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>用户列表</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <!-- 卡片视图区域 -->\r\n    <el-card>\r\n      <!-- 搜索框，按钮区域 -->\r\n      <el-row :gutter=\"20\">\r\n        <el-col :span=\"7\">\r\n          <!-- input输入框区域 -->\r\n          <el-input placeholder=\"请输入内容\" v-model=\"queryInfo.query\" clearable @clear=\"getUserList\">\r\n            <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"getUserList\"></el-button>\r\n          </el-input>\r\n        </el-col>\r\n        <el-col :span=\"7\">\r\n          <el-button type=\"primary\" @click=\"addDialogVisible = true\">添加用户</el-button>\r\n        </el-col>\r\n      </el-row>\r\n      <!-- 用户列表区域 -->\r\n      <el-table :data=\"userList\" border stripe>\r\n        <el-table-column type=\"index\" label=\"#\"></el-table-column>\r\n        <el-table-column label=\"姓名\" prop=\"username\"></el-table-column>\r\n        <el-table-column label=\"邮箱\" prop=\"email\"></el-table-column>\r\n        <el-table-column label=\"电话\" prop=\"mobile\"></el-table-column>\r\n        <el-table-column label=\"身份\" prop=\"role_name\"></el-table-column>\r\n        <el-table-column label=\"状态\">\r\n          <template slot-scope=\"scope\">\r\n            <el-switch v-model=\"scope.row.mg_state\" active-color=\"#13ce66\" @change=\"userState(scope.row)\"></el-switch>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\">\r\n          <template slot-scope=\"scope\">\r\n            <!-- 修改按钮 -->\r\n            <el-tooltip effect=\"dark\" content=\"修改\" placement=\"top\" :enterable=\"false\">\r\n              <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\" @click=\"showEditDialog(scope.row.id)\"></el-button>\r\n            </el-tooltip>\r\n\r\n            <!-- 删除按钮 -->\r\n            <el-tooltip effect=\"dark\" content=\"删除\" placement=\"top\" :enterable=\"false\">\r\n              <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\" @click=\"removeUserById(scope.row.id)\"></el-button>\r\n            </el-tooltip>\r\n\r\n            <!-- 分配角色按钮 -->\r\n            <el-tooltip effect=\"dark\" content=\"分配角色\" placement=\"top\" :enterable=\"false\">\r\n              <el-button type=\"warning\" icon=\"el-icon-setting\" size=\"mini\" @click=\"setRole(scope.row)\"></el-button>\r\n            </el-tooltip>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <!-- 分页区域 -->\r\n      <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page=\"queryInfo.pagenum\" :page-sizes=\"[1, 5, 10, 15]\" :page-size=\"queryInfo.pagesize\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\"> </el-pagination>\r\n    </el-card>\r\n    <!-- 添加用户的对话框 -->\r\n    <el-dialog title=\"添加用户\" :visible.sync=\"addDialogVisible\" width=\"30%\" @close=\"addDialogClosed\">\r\n      <!-- 内容主题区域 -->\r\n      <el-form :model=\"addForm\" :rules=\"addFormRules\" ref=\"addFormRef\" label-width=\"70px\">\r\n        <el-form-item label=\"用户名\" prop=\"username\">\r\n          <el-input v-model=\"addForm.username\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\" prop=\"password\">\r\n          <el-input v-model=\"addForm.password\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"email\" label=\"邮箱\">\r\n          <el-input v-model=\"addForm.email\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"手机号\" prop=\"mobile\">\r\n          <el-input v-model=\"addForm.mobile\" maxlength=\"11\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <!-- 底部区域 -->\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"addDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"addUser\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <!-- 修改用户信息的对话框 -->\r\n    <el-dialog title=\"修改用户\" :visible.sync=\"editDialogVisible\" width=\"30%\" @close=\"editDialogClosed\">\r\n      <el-form :model=\"editForm\" :rules=\"editFormRules\" ref=\"editFormRef\" label-width=\"70px\">\r\n        <el-form-item label=\"用户名\">\r\n          <el-input v-model=\"editForm.username\" disabled></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"邮箱\" prop=\"email\">\r\n          <el-input v-model=\"editForm.email\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"手机号\" prop=\"mobile\">\r\n          <el-input v-model=\"editForm.mobile\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"editDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"editUserInfo\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <!-- 分配角色的对话框 -->\r\n    <el-dialog title=\"分配角色\" :visible.sync=\"setRoleDialogVisible\" width=\"30%\" @close=\"setRoleDialogClosed\">\r\n      <!-- 分配角色对话框的区域 -->\r\n      <el-form :label-position=\"labelPostion\" label-width=\"50px\">\r\n        <el-form-item label=\"用户名:\">\r\n          <el-input v-model=\"userinfo.username\" disabled></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"角色名:\">\r\n          <el-input v-model=\"userinfo.role_name\" disabled></el-input>\r\n        </el-form-item>\r\n        <!-- 下拉菜单区域 -->\r\n        <el-form-item label=\"分配角色:\">\r\n          <el-select v-model=\"selectedRoleId\" placeholder=\"请选择\">\r\n            <el-option v-for=\"item in rolesList\" :key=\"item.id\" :label=\"item.roleName\" :value=\"item.id\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"setRoleDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"saveRoleInfo\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import axios from 'axios'\r\nexport default {\r\n  data() {\r\n    const token = window.sessionStorage.getItem('token')\r\n    // 验证邮箱的规则\r\n    // const checkEmail = (rule, value, callback) => {\r\n    //   //验证邮箱的正则表达式\r\n    //   const regEmail = /^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(\\.[a-zA-Z0-9_-])+/\r\n    //   if (regEmail.test(value)) {\r\n    //     return callback()\r\n    //   }\r\n    //   callback(\r\n    //     this.$message.error({\r\n    //       message: '请输入合法的邮箱',\r\n    //       center: true,\r\n    //       duration: 3000,\r\n    //     })\r\n    //   )\r\n    // }\r\n    // 验证手机号的规则\r\n    const checkMobile = (rule, value, callback) => {\r\n      const regMobile = /^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\\d{8}$/\r\n      if (regMobile.test(value)) {\r\n        return callback()\r\n      }\r\n      callback(new Error('请输入合法的手机号码!'))\r\n    }\r\n    return {\r\n      // 获取用户列表的参数对象\r\n      queryInfo: {\r\n        query: '',\r\n        pagenum: 1,\r\n        pagesize: 2, // 每页显示的条数\r\n      },\r\n      token: token,\r\n      // 保存请求回来的用户列表数据\r\n      userList: [],\r\n      total: 0,\r\n      // 控制添加用户对话框的显示与隐藏\r\n      addDialogVisible: false,\r\n      // 控制修改用户对话框的显示与隐藏\r\n      editDialogVisible: false,\r\n      // 控制分配角色对话框的显示与隐藏\r\n      setRoleDialogVisible: false,\r\n      // 需要被分配角色的用户信息\r\n      // 分配角色对属性的位置\r\n      labelPostion: 'top',\r\n      // 获取当前所在行的用户信息\r\n      userinfo: {},\r\n      // 所有角色的数据列表\r\n      rolesList: [],\r\n      // 已经选中角色的Id值\r\n      selectedRoleId: '',\r\n      // 查询到的用户信息对象\r\n      editForm: {\r\n        id: '',\r\n        email: '',\r\n        mobile: '',\r\n      },\r\n      // 修改表单的验证规则对象\r\n      editFormRules: {\r\n        email: [\r\n          { required: true, message: '邮箱不能为空!', trigger: 'blur' },\r\n          { type: 'email', message: '请输入正确的邮箱地址', trigger: ['blur', 'change'] },\r\n        ],\r\n        mobile: [\r\n          { required: true, message: '手机号不能为空!', trigger: 'blur' },\r\n          { validator: checkMobile, trigger: 'blur' },\r\n        ],\r\n      },\r\n      // 添加用户的表单数据\r\n      addForm: {\r\n        username: '',\r\n        password: '',\r\n        email: '',\r\n        mobile: '',\r\n      },\r\n      // 添加用户的验证规则对象\r\n      addFormRules: {\r\n        username: [\r\n          { required: true, message: '用户名不能为空!', trigger: 'blur' },\r\n          {\r\n            min: 3,\r\n            max: 10,\r\n            message: '用户名的长度为3到10位字符之间！',\r\n            trigger: 'blur',\r\n          },\r\n        ],\r\n        password: [\r\n          { required: true, message: '密码不能为空!', trigger: 'blur' },\r\n          {\r\n            min: 3,\r\n            max: 10,\r\n            message: '密码的长度为3到10位字符之间！',\r\n            trigger: 'blur',\r\n          },\r\n        ],\r\n        email: [\r\n          { required: true, message: '邮箱不能为空!', trigger: 'blur' },\r\n          { type: 'email', message: '请输入正确的邮箱地址', trigger: ['blur', 'change'] },\r\n        ],\r\n        mobile: [\r\n          { required: true, message: '手机号不能为空!', trigger: 'blur' },\r\n          { validator: checkMobile, trigger: 'blur' },\r\n        ],\r\n      },\r\n    }\r\n  },\r\n  created() {\r\n    this.getUserList()\r\n  },\r\n  methods: {\r\n    // async getUserList() {\r\n    //   const { data: res } = await axios.get('http://127.0.0.1:8888/api/private/v1/users', {\r\n    //     params: this.queryInfo,\r\n    //   })\r\n    //   console.log(res)\r\n    // },\r\n    async getUserList() {\r\n      const { data: res } = await this.$http.get('users', { headers: { Authorization: this.token }, params: this.queryInfo })\r\n      // console.log(res)\r\n      if (res.meta.status !== 200) {\r\n        return this.$message.error('获取用户列表失败！')\r\n      }\r\n      //返回状态正常，将请求的数据保存在data中\r\n      this.userList = res.data.users\r\n      this.total = res.data.total\r\n    },\r\n    // 监听pagesize改变的事件\r\n    handleSizeChange(newSize) {\r\n      this.queryInfo.pagesize = newSize\r\n      this.getUserList()\r\n    },\r\n    // 监听页码值改变的事件\r\n    handleCurrentChange(newPage) {\r\n      this.queryInfo.pagenum = newPage\r\n      this.getUserList()\r\n    },\r\n    // 监听switch开关的状态改变\r\n    async userState(userinfo) {\r\n      console.log(userinfo)\r\n      console.log(this.token)\r\n      // const url = `http://127.0.0.1:8888/api/private/v1/users/${userinfo.id}/state/${userinfo.mg_state}`\r\n      const { data: res } = await this.$http.put(`users/${userinfo.id}/state/${userinfo.mg_state}`)\r\n      // console.log(res)\r\n      if (res.meta.status !== 200) {\r\n        userinfo.mg_state = !userinfo.mg_state\r\n        // console.log(res)\r\n        return this.$message.error('更新用户状态失败！')\r\n      }\r\n      this.$message.success('更新用户状态成功！')\r\n      // userinfo.mg_state = !userinfo.mg_state\r\n      // console.log(res)\r\n    },\r\n    // 监听添加用户对话框的关闭事件\r\n    addDialogClosed() {\r\n      this.$refs.addFormRef.resetFields()\r\n    },\r\n    // 监听修改用户对话框的关闭事件\r\n    editDialogClosed() {\r\n      this.$refs.editFormRef.resetFields()\r\n    },\r\n    //点击确定按钮，添加新用户\r\n    addUser() {\r\n      this.$refs.addFormRef.validate(async (valid) => {\r\n        // console.log(valid)\r\n        if (!valid) return\r\n        // 发起添加用户的网络请求\r\n        // const { data: res } = await axios.post(\r\n        //   'http://127.0.0.1:8888/api/private/v1/users',\r\n        //   {\r\n        //     headers: { Authorization: this.token },\r\n        //   },\r\n        //   this.addForm\r\n        // )\r\n        const { data: res } = await this.$http.post('users', this.addForm, { headers: { Authorization: this.token } })\r\n        // console.log('0000000000000000000')\r\n        // console.log(res)\r\n        // console.log('0000000000000000000')\r\n        if (res.meta.status !== 201) {\r\n          // this.$message.error({\r\n          //   message: '添加用户失败！',\r\n          //   center: true,\r\n          //   duration: 3000,\r\n          // })\r\n          this.$message.error('添加用户失败！')\r\n        }\r\n        // this.$message.success({\r\n        //   message: '添加用户成功！',\r\n        //   center: true,\r\n        //   duration: 3000,\r\n        // })\r\n        this.$message.error('添加用户成功！')\r\n        // console.log('--------------------------')\r\n        // console.log(res)\r\n        // console.log('---------------------')\r\n        // 隐藏添加用户的对话框\r\n        this.addDialogVisible = false\r\n        // 重新获取用户列表的数据\r\n        this.getUserList()\r\n      })\r\n    },\r\n    // 点击修改用户信息\r\n    async showEditDialog(id) {\r\n      const { data: res } = await this.$http.get('users/' + id, { headers: { Authorization: this.token } })\r\n      if (res.meta.status !== 200) {\r\n        return this.$message.error({\r\n          message: '查询用户信息失败！',\r\n          center: true,\r\n          duration: 3000,\r\n        })\r\n      }\r\n      this.editForm = res.data\r\n      this.editDialogVisible = true\r\n    },\r\n    // 修改用户信息并提交\r\n    editUserInfo() {\r\n      this.$refs.editFormRef.validate(async (valid) => {\r\n        if (!valid) return\r\n        // 发起修改用户信息的数据请求\r\n        const { data: res } = await this.$http.put(\r\n          'users/' + this.editForm.id,\r\n          {\r\n            email: this.editForm.email,\r\n            mobile: this.editForm.mobile,\r\n          },\r\n          { headers: { Authorization: this.token } }\r\n        )\r\n        if (res.meta.status !== 200) {\r\n          return this.$message.error({\r\n            message: '更新用户信息失败！',\r\n            center: true,\r\n            duration: 3000,\r\n          })\r\n        }\r\n        // 关闭对话框\r\n        this.editDialogVisible = false\r\n        // 刷新数据列表\r\n        this.getUserList()\r\n        //提示数据列表\r\n        this.$message.success({\r\n          message: '更新用户信息成功!',\r\n          center: true,\r\n          duration: 3000,\r\n        })\r\n      })\r\n    },\r\n    // 根据Id删除对应的用户信息\r\n    async removeUserById(id) {\r\n      const confirmResult = await this.$confirm('此操作将永久的删除该用户，是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning',\r\n      }).catch((err) => {\r\n        return err\r\n      })\r\n      if (confirmResult !== 'confirm') {\r\n        return this.$message.info({\r\n          message: '已取消删除!',\r\n          // center: true,\r\n          type: 'info',\r\n          duration: 3000,\r\n        })\r\n      }\r\n      // 发起删除用户信息的请求\r\n      const { data: res } = await this.$http.delete('users/' + id, { headers: { Authorization: this.token } })\r\n      if (res.meta.status !== 200) {\r\n        return this.$message.error({\r\n          message: '删除用户失败！',\r\n          center: true,\r\n        })\r\n      }\r\n      this.$message.success({\r\n        message: '删除用户成功！',\r\n        center: true,\r\n      })\r\n      // 刷新一下表格信息--重新渲染一下用户信息\r\n      this.getUserList()\r\n\r\n      // alert('删除成功！')\r\n      // 如果用户确认删除，则返回值为字符串confim\r\n      // 如果用户取消了删除，则返回值为字符串cancel\r\n      // console.log(confirmResult)\r\n    },\r\n    // 分配角色的处理函数\r\n    async setRole(userinfo) {\r\n      this.userinfo = userinfo\r\n      // 在展示对话框之前，获取所有的角色列表\r\n      const { data: res } = await this.$http.get('roles', { headers: { Authorization: this.token } })\r\n      if (res.meta.status !== 200) {\r\n        // console.log(res)\r\n        return this.$message.error({\r\n          message: '获取角色列表失败！',\r\n          center: true,\r\n        })\r\n      }\r\n      // alert('获取角色列表成功！')\r\n      this.$message.success({\r\n        message: '获取角色列表失败！',\r\n        center: true,\r\n      })\r\n      // 将用户的列表保存到数据中\r\n      this.rolesList = res.data\r\n      this.setRoleDialogVisible = true\r\n    },\r\n    // 点击按钮，分配角色\r\n    async saveRoleInfo() {\r\n      if (!this.selectedRoleId) {\r\n        return this.$message.error({\r\n          message: '请选择要分配的角色！',\r\n          center: true,\r\n        })\r\n      }\r\n      //如果已经选择了角色，发起请求\r\n      // const url = `http://127.0.0.1:8888/api/private/v1/users/${this.userinfo.id}/role`\r\n      // const { data: res } = await axios.put(url, { rid: this.selectedRoleId }, { headers: { Authorization: this.token } })\r\n      const { data: res } = await this.$http.put(`users/${this.userinfo.id}/role`, { rid: this.selectedRoleId })\r\n      if (res.meta.status !== 200) {\r\n        return this.$message.error({\r\n          message: '更新角色失败！',\r\n          center: true,\r\n        })\r\n      }\r\n      this.$message.success({\r\n        message: '更新角色成功！',\r\n        center: true,\r\n      })\r\n      this.getUserList()\r\n      this.setRoleDialogVisible = false\r\n    },\r\n    // 监听分配角色对话框的关闭事件\r\n    setRoleDialogClosed() {\r\n      this.selectedRoleId = ''\r\n      this.userinfo = {}\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.el-breadcrumb {\r\n  margin-bottom: 22px;\r\n  font-size: 17px;\r\n  font-family: cursive;\r\n}\r\n.el-card {\r\n  box-shadow: 0 2px 2px rgba(0, 0, 0, 0.25);\r\n}\r\n.el-table {\r\n  margin-top: 15px;\r\n  font-size: 15px;\r\n  font-family: cursive;\r\n  text-align: center;\r\n  line-height: 15px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./userV.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./userV.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./userV.vue?vue&type=template&id=8ced9d70&scoped=true&\"\nimport script from \"./userV.vue?vue&type=script&lang=js&\"\nexport * from \"./userV.vue?vue&type=script&lang=js&\"\nimport style0 from \"./userV.vue?vue&type=style&index=0&id=8ced9d70&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8ced9d70\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","path","_v","rightsList","scopedSlots","_u","key","fn","scope","row","level","staticRenderFns","data","token","window","sessionStorage","getItem","created","getRightsList","methods","async","headers","Authorization","res","meta","status","$message","error","message","center","success","component","roleList","_l","item1","i1","id","class","on","$event","removeRightById","_s","authName","staticClass","item2","i2","item3","showSetRightDialog","setRightDialogVisible","setRightDialogClosed","ref","treeProps","deKeys","slot","allotRights","label","children","roleId","getRolesList","role","rightId","confimResult","$confirm","confirmButtonText","cancelButtonText","type","catch","err","info","duration","getLeafKeys","node","arr","push","forEach","$refs","treeRef","getCheckedKeys","getHalfCheckedKeys","IdStr","join","rids","getUserList","model","value","queryInfo","callback","$$v","$set","expression","addDialogVisible","userList","userState","showEditDialog","removeUserById","setRole","pagenum","pagesize","total","handleSizeChange","handleCurrentChange","addDialogClosed","addForm","addFormRules","addUser","editDialogVisible","editDialogClosed","editForm","editFormRules","editUserInfo","setRoleDialogVisible","setRoleDialogClosed","labelPostion","userinfo","selectedRoleId","item","roleName","saveRoleInfo","checkMobile","rule","regMobile","test","Error","query","rolesList","email","mobile","required","trigger","validator","username","password","min","max","params","users","newSize","newPage","mg_state","addFormRef","resetFields","editFormRef","validate","valid","confirmResult","rid"],"sourceRoot":""}